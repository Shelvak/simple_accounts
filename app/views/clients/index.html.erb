<div class="well text-center">
  <%= form_for :search, method: :get, html: { class: 'form-horizontal' } do |f| %>
    <div class="row">
      <div class="col-md-4">

        <%= text_field_tag :q, params[:q], class: 'form-control', placeholder: t('label.search') %>
      </div>
      <div class="col-md-2">
        <%= submit_tag 'Buscar cliente', class: 'btn btn-warning' %>
      </div>
    </div>
<% end %>
</div>

<% if @clients.empty? %>
  <%= render 'shared/empty_index' %>
<% else %>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th><%= Client.human_attribute_name 'name' %></th>
        <th><%= Client.human_attribute_name 'identifier' %></th>
        <th><%= Client.human_attribute_name 'amount' %></th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @clients.each do |client| %>
        <tr>
          <td><%= client.name %></td>
          <td><%= client.identifier %></td>
          <td><%= number_to_currency client.amount %></td>
          <td><%= link_to 'Ver saldo', client, class: 'btn btn-success btn-xs' %></td>
          <td><%= link_to 'Sumar saldo',
            clients_path,
            class: 'btn btn-primary btn-xs',
            data: { add_movement_to_client: 'credit', client: client.to_json } %></td>
          <td><%= link_to 'Restar saldo',
            clients_path,
            class: 'btn btn-danger btn-xs',
            data: { add_movement_to_client: 'debit', client: client.to_json } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <%= paginate @clients %>
<% end %>

<div class="panel-footer">
  <%= link_to(
    t('view.clients.new', default: :'label.new'),
    new_client_path, class: 'btn btn-primary'
  ) if can? :create, Client %>
</div>
